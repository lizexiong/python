{% extends "../head.html" %}
{% block div %}


{#<script>#}
{#    $(document).ready(function() {#}
{##}
{#        var index = layer.load(1, {shade: false});#}
{#    });#}
{#</script>#}


{#<style>li{ display:inline}</style>#}


<head>
    <ul>
        <h2>容器用途管理</h2>
    </ul>
</head>

<table id="conlist" class="display" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th width="2%">序号</th>
            <th width="10%">容器ID</th>
            <th width="10%">容器IP</th>
            <th width="10%">节点IP</th>
            <th width="8%">状态</th>
            <th width="10%">用户</th>
            <th width="20%">应用</th>
            <th width="20%">描述</th>
            <th width="20%">操作</th>
        </tr>
    </thead>
    <tbody>
        {% for con in con_data %}
        <tr>
            <td >{{con}}</td>
            <td id="con_id"><a href="/conaction?node_ip={{ con_data[con]['node_ip']}}&con_id={{ con_data[con]["con_id"] }}">{{con_data[con]["con_id"]}}</a></td>
            <td id="con_ip">{{con_data[con]["con_ip"]}}</td>
            <td id="node_ip">{{con_data[con]["node_ip"]}}</td>
            <td id="state">{{con_data[con]["state"]}}</td>
            <td id="user_name">{{con_data[con]["user_name"]}}</td>
            <td id="con_app">{{con_data[con]["con_app"]}}</td>
            <td id="con_desc">{{con_data[con]["con_desc"]}}</td>
            <td><a data-toggle="modal" href="/conmodify?action=modify&con_id={{con_data[con]["con_id"]}}" data-target="#myModal"><img src='{{static_url("unity/img/modify.png")}}' alt='修改' title='修改' /></a></td>
        </tr>
        {% end %}
    </tbody>
</table>
{#<ul style="display: block;overflow: hidden; white-space:nowrap;">#}

{% if page_info is not None %}
       数据总量:{{ page_info['total_data_num']}},分页总数:{{ page_info['number_of_total_pages']}}
{% end %}


<nav aria-label="Page navigation" style="display:inline;" >
    <ul style="float:right;" class="pagination">
        {% raw page_list %}
    </ul>
</nav>



<div class="modal fade" style="width:400px;margin:0 auto;" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel"> 
                 容器修改
            </h4>
         </div>
         <div class="modal-body">
         </div>
      </div><!-- /.modal-content -->
</div><!-- /.modal -->
</div>


<script type="text/javascript">
$(document).ready(function() {
    $('#conlist').DataTable({
        "paging":false,
        "bInfo" : false, //是否显示页脚信息，DataTables插件左下角显示记录数
    });
} );
</script>

<script type="text/javascript">
    $("#myModal").on("hidden.bs.modal", function() {
        $(this).removeData("bs.modal");
    });
</script>

{#这里本来准备用button和ajax来做分页跳转,后面觉得没用,所以废弃#}
{#<script>#}
{#  function print() {#}
{#      var a = document.getElementById("nn").value;#}
{#  }#}
{#</script>#}

{% end %}